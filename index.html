<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Success Academy Cafe</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/quagga/dist/quagga.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr/dist/jsQR.js"></script>
</head>
<body>

    <header>
        <h1>Success Academy Cafe'</h1>
    </header>

    <div class="gallery">
        <div class="item">
            <img src="./foodmenu/Cashew Nut.jpg" alt=" a cup of smottie">  
            <div class="overlay_1">Cashew Nut</div>
        </div>
        <div class="item">
            <img src="./foodmenu/chocolate milkshake.jpg" alt=" a cup of smottie">
            <div class="overlay_1">Chocolate Milkshake</div>
        </div>
        <div class="item">
            <img src="./foodmenu/Takoyaki.jpg" alt=" a cup of smottie">
            <div class="overlay_1">Takoyaki</div>
        </div>
        <div class="item">
            <img src="./foodmenu/Tamagoyaki.jpg" alt=" a cup of smottie">
            <div class="overlay_1">Tamagoyaki</div>
        </div>
        <div class="item">
            <img src="./foodmenu/Yakisoba.jpg" alt=" a cup of smottie">
            <div class="overlay_1">Yakisoba</div>
        </div>
        <div class="item">
            <img src="./foodmenu/Okonomiyaki.jpg" alt=" a cup of smottie">
            <div class="overlay_1">Okonomiyaki</div>
        </div> 
        <div class="item">
            <img src="./foodmenu/Shougayaki.jpg" alt=" a cup of smottie">
            <div class="overlay_1">Shougayaki</div>
        </div>
        <div class="item">
            <img src="./foodmenu/Curry Rice.jpg" alt=" a cup of smottie">
            <div class="overlay_1">Curry Rice</div>
        </div>
        <div class="item">
            <img src="./foodmenu/Dengo.jpg" alt=" a cup of smottie">
            <div class="overlay_1">Dengo</div>
        </div>
        <div class="item">
            <img src="./foodmenu/Dorayaki.jpg" alt=" a cup of smottie">
            <div class="overlay_1">Dorayaki</div>
        </div>
        <div class="item">
            <img src="./foodmenu/Putin.jpg" alt=" a cup of smottie">
            <div class="overlay_1">Putin</div>
        </div>
        <div class="item">
            <img src="./foodmenu/Tampura.jpg" alt=" a cup of smottie">
            <div class="overlay_1">Tampura</div>
        </div>
        <div class="item">
            <img src="./foodmenu/Tongatsu.jpg" alt=" a cup of smottie">
            <div class="overlay_1">Tonkatsu</div>
        </div>
        <div class="item">
            <img src="./foodmenu/Onigiri.jpg" alt=" a cup of smottie">
            <div class="overlay_1">Onigiri</div>
        </div>
    </div>

    <section>
        <h2>Our Avaiable Menu</h2>
        <div class="menu_table">
            <table>
                <thead>
                    <tr>
                        <th>Menu Items</th>
                        <th>Specific</th>
                        <th>Price</th>
                        <th>Select</th>
                    </tr>
                </thead>
                <tbody id="menuItems">
                    <!-- Insert your daily menu items and prices here -->
                    <tr>
                        <td>Chocolate milkshake</td>
                        <td>1 plate</td>
                        <td>2,500 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="2500"></td>
                    </tr>
                    <tr>
                        <td>Tonkatsu</td>
                        <td>1 plate</td>
                        <td>4,000 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="4000"></td>
                    </tr>
                    <tr>
                        <td>Okonomiyaki</td>
                        <td>1 plate</td>
                        <td>2,500 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="2500"></td>
                    </tr>
                    <tr>
                        <td>Tampura</td>
                        <td>1 plate</td>
                        <td>4,000 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="4000"></td>
                    </tr>
                    <tr>    
                        <td>Norimaki with Ginger Pickles</td>
                        <td>1 plate</td>
                        <td>2,000 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="2000"></td>
                    </tr>
                    <tr>
                        <td>Norimaki with sliced pork</td>
                        <td>1 plate</td>
                        <td>2,500 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="2500"></td>
                    </tr>
                    <tr>
                        <td>Norimaki with Tuna</td>
                        <td>1 plate</td>
                        <td>2,500 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="2500"></td>
                    </tr>
                    <tr>
                        <td>Cashew Nut Smootie</td>
                        <td>1 bottle</td>
                        <td>3,500 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="3500"></td>
                    </tr>
                
                    <tr>
                        <td>Onigiri</td>
                        <td>1 plate</td>
                        <td>2,000 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="2000"></td>
                    </tr>
                    <tr>
                        <td>Takoyaki</td>
                        <td>1 plate</td>
                        <td>2,500 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="2500"></td>
                    </tr>
                    <tr>
                        <td>Yakisoba</td>
                        <td>1 plate</td>
                        <td>3,500 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="3500"></td>
                    </tr>
                    <tr>
                        <td>Curry rice</td>
                        <td>1 plate</td>
                        <td>3,500 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="3500"></td>
                    </tr>
                    <tr>
                        <td>Degon</td>
                        <td>1 plate</td>
                        <td>2,000 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="2000"></td>
                    </tr>
                    <tr>
                        <td>Dorayaki</td>
                        <td>1 plate</td>
                        <td>2,000 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="2000"></td>
                    </tr>
                    <tr>
                        <td>Putin</td>
                        <td>1 plate</td>
                        <td>2,000 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="2000"></td>
                    </tr>
                    <tr>
                        <td>Tamagoyaki</td>
                        <td>1 plate</td>
                        <td>2,000 MMK</td>
                        <td><input type="checkbox" name="menuItem" data-price="2000"></td>
                    </tr>
                    <!-- Add more rows as needed -->
                </tbody>
            </table>
        </div>  
        <div class="order">
            <h3>Total Price: <span id="totalPrice">0</span> MMK</h3>
            <button onclick="openPopup()">Order & Pay</button>
        </div>
            <!-- Popup overlay and content -->
                <div class="ovl" id="ovl">
                    <div class="popup" style="width: 60%; height: fit-content;">
                        <h2 style="display: inline; padding-right: 1em;">Always consider the impact!</h2>
                        <div style="width: 2rem;">
                            <span class="close-btn">&times;</span>
                        </div>
                        <hr>
                        <div style="text-align: center; display: flex; justify-content: center; padding-right: 20%;">
                            <img class="QR_img" src="./foodmenu/qrcode.jpg" style="display: block; margin: 0 auto;" alt="">
                            <button class="scanbtn" id="scanButton">Scan QR Code</button>
                        </div>                        
                        <p>Order details:</p>
                        <p>Total Price: <span id="popupTotalPrice">0</span> MMK</p>
                        <p>Thank you for coming to our Success Academy Cafe and if you have any question or recommendation you can directly fill our google survey form or if you are one of the google map user you can click the google map link to leave us a message in your journey. Please, enjoy!</p>
                        <ul style="padding-right:6px;">
                            <li style="display:inline;"><a href="https://www.facebook.com/one4oneclothing4all" target="_blank">Facebook</a></li>
                            <li style="display:inline;"><a href="https://www.instagram.com/one4one_clothing4all?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" target="_blank">Instagram</a></li>
                        </ul>
                    </div>
                </div>

            <!-- this is the interface for QR code scanning -->
            <div id="qrScanner">
                <video id="videoElement" autoplay></video>
                <canvas id="canvasElement" style="display:none;"></canvas>
                <button id="scanButton">Scan QR Code</button>
              </div>       
    </section> 


    <section class="open-hour">
        <div class="open-hour-section">
            <h2>Opening Hours</h2><br>
            <p>Monday to Friday: 10:00 AM - 4:00 PM</p>
            <p>Saturday(Special Event): Please visit our Facebook Page for more clarifications <a href="https://www.facebook.com/profile.php?id=100086685780191&mibextid=ZbWKwL">Success Vocational Training Center</a> <b>(Note: free event)</b></p>
        </div>
    </section> 

    <section class="contact-info">
        <div class="contact-info-section">
            <h2>Contact Information</h2><br>
            <p> Address: No 641, Innwa 19th(A) street, South Oakklapa, Yangon</a></p>
            <p>Phone: <a href="tel:+959777085699">09777085699</a></p>
            <p>Mailing Address: <a href="mailto:cwbminfo@gmail.com">cwbminfo@gmail.com</a></p>
            <a href="https://maps.app.goo.gl/LV6D9TNkSc2LU5X68" target="_blank">Google Map:</a>         
        </div>
    </section>

    <section class="feedback">
        <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSew0ECKLF12jJrXIn5qTNXC0ZaX5QudrJ5ZgWOnrw_x4Bnlyg/viewform?embedded=true" width="100%" height="300px" frameborder="0" marginheight="0" marginwidth="0">Loading…</iframe>
    </section> <hr>

    <footer class="footer_sc">
        &copy; 2024 Success Academy Cafe. All rights reserved.
    </footer>
    
    <script>
        // JavaScript code to calculate total price and update display
        const menuItems = document.querySelectorAll('#menuItems input[type="checkbox"]');
        const totalPriceDisplay = document.getElementById('totalPrice');

        // Add event listener to each checkbox
        menuItems.forEach(item => {
            item.addEventListener('change', calculateTotalPrice);
        });

        // Function to calculate total price
        function calculateTotalPrice() {
            let totalPrice = 0;
            menuItems.forEach(item => {
                if (item.checked) {
                    // Extract price from the dataset
                    const price = parseFloat(item.dataset.price.replace(',', ''));
                    totalPrice += price;
                }
            });
            // Update total price display
            totalPriceDisplay.textContent = totalPrice.toLocaleString() + '';
        }

        function openPopup() {
            document.getElementById('ovl').style.display = 'flex';
            // Get total price
            const totalPrice = totalPriceDisplay.textContent;
            // Update total price in the dialog
            document.getElementById('popupTotalPrice').textContent = totalPrice;

            // Add click event listener to the overlay to close the popup when clicked outside
            document.getElementById('ovl').addEventListener('click', function(event) {
                if (event.target === this) {
                    closePopup();
                }
            });

            // Add click event listener to the close button to close the popup smoothly
            document.querySelector('.close-btn').addEventListener('click', function() {
                closePopup();
            });
        }                                                                               

        // Function to close the popup with animation
        function closePopup() {
            var ovl = document.getElementById('ovl');
            var popup = document.querySelector('.popup');
            var closeBtn = document.querySelector('.close-btn');

            // Add class to trigger the fadeOutPopup animation
            ovl.classList.add('fadeOutPopup');
            popup.classList.add('slideOutPopup');

            closeBtn.classList.add('rotateOutCloseBtn');

            // Wait for the animation to complete before hiding the overlay
            setTimeout(function() {
                ovl.style.display = 'none';
                // Remove the fadeOutPopup class to allow re-opening the popup
                ovl.classList.remove('fadeOutPopup');
                popup.classList.remove('slideOutPopup');
                closeBtn.classList.remove('rotateOutCloseBtn');

                // Remove click event listener after closing the popup
                document.getElementById('ovl').removeEventListener('click', function(event) {
                    if (event.target === this) {
                        closePopup();
                    }
                });
            }, 800); // 500ms is the duration of the fadeOutPopup animation
        }

    </script>

</body>
</html>